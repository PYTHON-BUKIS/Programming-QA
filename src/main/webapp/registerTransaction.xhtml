<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:f ="http://java.sun.com/jsf/core" 
     xmlns:h ="http://java.sun.com/jsf/html"
     xmlns:p="http://primefaces.org/ui"
     >
    <h:head>
        <title>Register Transaction</title>
        <link type="text/css" rel="stylesheet" href="/JSF_act1/faces/javax.faces.resource/css/styles.css" />
    </h:head>
    <h:body class="body">
        <h:form id="nav_bar_form">
            <nav id="nav_bar">
                <ul>
                    <li id="users"><h:button class="log_in_button" outcome="viewUsers" value="Users"/></li>
                    <li id="products"><h:button class="log_in_button" outcome="viewProducts" value="Products"/></li>
                    <li id="transactions"><h:button class="log_in_button" outcome="viewTransactions" value="Transactions"/></li>
                    <li id="logout"><h:commandButton class="log_in_button" action="#{Users.Logout()}" value="Log Out"/></li>
                </ul>
            </nav>
        </h:form>
         <div class="page_body">
            <h1>Register Transaction</h1>

            <h:form>
                <h:outputLabel for="product" value="Product:"></h:outputLabel>
                <h:selectOneMenu id="product" value="#{Transactions.productId}">
                    <f:selectItem itemLabel="Select Product" itemValue="" />
                    <f:selectItems value="#{Products.GetAll()}" var="product" itemValue="#{product.productId}" itemLabel="#{product.name}" />
                </h:selectOneMenu>
                <br></br>

                <h:outputLabel for="customer" value="Customer:"></h:outputLabel>
                <h:selectOneMenu id="customer" value="#{Transactions.userId}">
                    <f:selectItem itemLabel="Select Customer" itemValue="" />
                    <f:selectItems value="#{Users.GetAll()}" var="c" itemValue="#{c.userId}" itemLabel="#{Transactions.getCustomerName(c.userId)}" />
                </h:selectOneMenu>
                <br></br>

                <h:outputLabel for="transactionType" value="Transaction Type:"></h:outputLabel>
                <h:selectOneMenu id="transactionType" value="#{Transactions.transactionTypeId}">
                    <f:selectItem itemLabel="Select Transaction Type" itemValue="" />
                    <f:selectItems value="#{TransactionTypes.GetAll()}" var="transaction" itemValue="#{transaction.transactionTypeId}" itemLabel="#{transaction.name}" />
                </h:selectOneMenu>
                <br></br>

                 <h:outputLabel for="date" value="Date"></h:outputLabel>
                <p:calendar id="date" value="#{Transactions.date}" pattern="yyyy-MM-dd" />
                <br></br>

                <h:commandButton action="#{Transactions.Insert(Transactions)}" value="Save">
                </h:commandButton>
            </h:form>
         </div>
        <footer>
                <h3><h:outputText value="#{Users.getJobName(loggedUser.jobId)}"/></h3>
         </footer>
    </h:body>
</html>
